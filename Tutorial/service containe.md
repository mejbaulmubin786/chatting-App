Laravel-ржПрж░ **Service Container** (ржмрж╛ **IoC Container**) ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржЯрзБрж▓, ржпрж╛ ржХрзНрж▓рж╛рж╕ ржПржмржВ рждрж╛ржжрзЗрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ (dependencies) ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред ржПржЯрж┐ Laravel-ржПрж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржмрзИрж╢рж┐рж╖рзНржЯрзНржпржЧрзБрж▓рзЛрж░ ржПржХржЯрж┐ ржПржмржВ ржкрзНрж░рж╛ржпрж╝ рж╕ржм ржмржбрж╝ Laravel ржлрж┐ржЪрж╛рж░рзЗрж░ ржнрж┐рждрзНрждрж┐ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

### **Service Container ржХрзА?**

Service Container ржПржХржЯрж┐ IoC (Inversion of Control) ржХржирзНржЯрзЗржЗржирж╛рж░, ржпрж╛ ржХрзНрж▓рж╛рж╕рзЗрж░ ржЬржирзНржп ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ рждрзИрж░рж┐ ржПржмржВ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред ржЕрж░рзНржерж╛рзО, ржпржжрж┐ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ ржЕржирзНржп ржХрзЛржирзЛ ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓ рж╣ржпрж╝, Service Container ржПржЯрж┐ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

---

### **ржХрзЗржи Service Container ржжрж░ржХрж╛рж░?**

ржзрж░рж╛ ржпрж╛ржХ, ржЖржкржирж╛рж░ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ `OrderService`, ржпрзЗржЯрж┐ `PaymentGatewayInterface`-ржПрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓:

```php
class OrderService
{
    protected $paymentGateway;

    public function __construct(PaymentGatewayInterface $paymentGateway)
    {
        $this->paymentGateway = $paymentGateway;
    }
}
```

ржПржЦржи, ржпржжрж┐ ржЖржкржирж┐ `OrderService` ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржХрж░рждрзЗ ржЪрж╛ржи, ржЖржкржирж╛ржХрзЗ `PaymentGatewayInterface`-ржПрж░ ржЬржирзНржп ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯрзЗрж╢ржи ржЗржиржЬрзЗржХрзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗред ржПржЗ ржХрж╛ржЬржЯрж┐ ржмрж╛рж░ржмрж╛рж░ ржХрж░рж╛ ржХрж╖рзНржЯрж╕рж╛ржзрзНржп ржПржмржВ ржХрзЛржб ржЬржЯрж┐рж▓ ржХрж░рзЗ рждрзЛрж▓рзЗред Service Container ржПржЯрж┐ рж╕рж╣ржЬ ржПржмржВ ржЧрждрж┐рж╢рзАрж▓ ржХрж░рзЗред

---

### **Service Container ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?**

Service Container ржорзВрж▓ржд **Dependency Injection** ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржХрж╛ржЬ ржХрж░рзЗред ржПржЯрж┐ рждрж┐ржиржЯрж┐ ржкрзНрж░ржзрж╛ржи ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рзЗ:

1. **ржмрж╛ржЗржирзНржбрж┐ржВ (Binding):** ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ржХрзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ ржирж┐ржмржирзНржзржи ржХрж░рж╛ред
2. **рж░рж┐ржЬрж▓ржнрж┐ржВ (Resolving):** ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕рзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржХрж░рж╛ред
3. **рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж░рзЗржЬрж▓ржнрж┐ржВ (Automatic Resolution):** Constructor Injection-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЗржиржЬрзЗржХрзНржЯ ржХрж░рж╛ред

---

### **Service Container ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЙржжрж╛рж╣рж░ржг**

#### **рзз. ржмрж╛ржЗржирзНржбрж┐ржВ ржПржмржВ рж░рж┐ржЬрж▓ржнрж┐ржВ**

Laravel Service Container-ржП ржХрж┐ржнрж╛ржмрзЗ ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржирж┐ржмржирзНржзржи ржХрж░ржмрзЗржи ржПржмржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи:

```php
use App\Services\PaymentGateway;

$app->bind('PaymentGatewayInterface', function ($app) {
    return new PaymentGateway();
});

// рж░рж┐ржЬрж▓ржн
$paymentGateway = $app->make('PaymentGatewayInterface');
```

#### **рзи. Singleton Binding**

ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржмрж╛рж░ржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржп `singleton` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝:

```php
$app->singleton('PaymentGatewayInterface', function ($app) {
    return new PaymentGateway();
});
```

#### **рзй. рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж░рзЗржЬрж▓ржнрж┐ржВ**

Laravel рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ рж░рзЗржЬрж▓ржн ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржпржжрж┐ рж╕рзЗржЧрзБрж▓рзЛ constructor-ржП ржЯрж╛ржЗржк-рж╣рж┐ржирзНржЯ ржХрж░рж╛ ржерж╛ржХрзЗ:

```php
class OrderService
{
    protected $paymentGateway;

    public function __construct(PaymentGatewayInterface $paymentGateway)
    {
        $this->paymentGateway = $paymentGateway;
    }
}

// Controller ржмрж╛ ржЕржирзНржп ржХрзЛржерж╛ржУ:
$orderService = app(OrderService::class);
```

Laravel `app()` ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ `OrderService` ржПржмржВ рждрж╛рж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ рждрзИрж░рж┐ ржХрж░ржмрзЗред

---

### **Service Provider ржПржмржВ Service Container**

Laravel-ржП Service Container-ржПрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржмржЪрзЗржпрж╝рзЗ рж╕рж╛ржзрж╛рж░ржг ржЬрж╛ржпрж╝ржЧрж╛ рж╣рж▓ Service Providersред Service Providers рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕ ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржмрж┐ржнрж┐ржирзНржи ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ржХрзЗ Service Container-ржП ржирж┐ржмржирзНржзржи ржХрж░рзЗржиред

#### **Service Provider ржЙржжрж╛рж╣рж░ржг**

`AppServiceProvider.php`-ржП ржЖржкржирж┐ ржирж┐ржорзНржирж░рзВржкрзЗ ржмрж╛ржЗржирзНржбрж┐ржВ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:

```php
use App\Services\PaymentGateway;
use App\Interfaces\PaymentGatewayInterface;

public function register()
{
    $this->app->bind(PaymentGatewayInterface::class, PaymentGateway::class);
}
```

---

### **Service Container-ржПрж░ рж╕рзБржмрж┐ржзрж╛**

1. **Dependency Injection рж╕рж╣ржЬ ржХрж░рзЗред**
2. **ржХрзЛржб ржкрзБржиржГржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп ржПржмржВ ржоржбрж┐ржЙрж▓рж╛рж░ ржХрж░рзЗред**
3. **ржЗржирзНржЯрж╛рж░ржлрзЗрж╕-ржнрж┐рждрзНрждрж┐ржХ ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ рж╕рж╣ржЬрждрж░ ржХрж░рзЗред**
4. **ржЯрзЗрж╕рзНржЯрж┐ржВ рж╕рж╣ржЬ рж╣ржпрж╝, ржХрж╛рж░ржг ржЖржкржирж┐ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ржЧрзБрж▓рзЛ рж╕рж╣ржЬрзЗржЗ ржоржХ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред**

---

### **рж╕ржВржХрзНрж╖рзЗржкрзЗ**

Laravel Service Container ржорзВрж▓ржд ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯрзЗ ржирж┐рж░рзНржнрж░рж╢рзАрж▓рждрж╛ ржкрж░рж┐ржЪрж╛рж▓ржирж╛рж░ ржПржХржЯрж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА ржЯрзБрж▓ред ржПржЯрж┐ Laravel-ржПрж░ ржЕржирзЗржХ ржлрж┐ржЪрж╛рж░ ржпрзЗржоржи Controller, Middleware, Event Listener ржЗрждрзНржпрж╛ржжрж┐рждрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ рж░рзЗржЬрж▓ржнрж┐ржВ ржХрж░рзЗ ржХрж╛ржЬ ржХрж░рзЗред ржЖржкржирж┐ ржпржжрж┐ ржПржЯрж┐ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, рждрж╛рж╣рж▓рзЗ ржЖржкржирж╛рж░ ржХрзЛржб ржЖрж░ржУ рж╕рж╣ржЬржмрзЛржзрзНржп, ржкрж░рж┐рж╖рзНржХрж╛рж░ ржПржмржВ ржорзЗржЗржиржЯрзЗржЗржирзЗржмрж▓ рж╣ржмрзЗред

### -------------------------------------------------

ржЖржкржирж┐ ржирждрзБржи, рждрж╛ржЗ ржЖрж░рзЛ рж╕рж╣ржЬржнрж╛ржмрзЗ ржПржмржВ ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрзБржЭрж╛ржирзЛрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░ржЫрж┐ред ЁЯШК

---

### **Service Container ржХрзА?**

ржзрж░рзБржи, ржЖржкржирж╛рж░ ржПржХржЯрж┐ ржЕрзНржпрж╛ржк ржЖржЫрзЗред ржПржЗ ржЕрзНржпрж╛ржк ржмрж┐ржнрж┐ржирзНржи ржЬрж┐ржирж┐рж╕рзЗрж░ ржЙржкрж░ ржирж┐рж░рзНржнрж░рж╢рзАрж▓ред ржпрзЗржоржи,

- ржПржХржЯрж┐ "ржкрзЗржорзЗржирзНржЯ рж╕рж┐рж╕рзНржЯрзЗржо" ржпрзЗржЯрж╛ ржЯрж╛ржХрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп ржжрж░ржХрж╛рж░,
- ржПржХржЯрж┐ "ржЗржорзЗржЗрж▓ рж╕рж┐рж╕рзНржЯрзЗржо" ржпрзЗржЯрж╛ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржп ржжрж░ржХрж╛рж░ред

Laravel ржПрж░ **Service Container** ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкржХрзЗ ржмрж▓рзЗ,

- "рждрзБржорж┐ ржХрж╛ржХрзЗ ржХрж╛ржХрзЗ ржжрж░ржХрж╛рж░ рж╕рзЗржЯрж╛ ржЖржорж╛ржХрзЗ ржмрж▓рзЛ, ржЖржорж┐ рждрж╛ржжрзЗрж░ ржПржирзЗ ржжрзЗржмред"

ржПржЯрж╛ ржХрж╛ржЬ ржХрж░рзЗ ржпрзЗржнрж╛ржмрзЗ:

1. ржЖржкржирж┐ Container-ржП ржмрж▓рзЗ рж░рж╛ржЦрзЗржи, "ржЖржорж╛рж░ `Payment` ржмрж▓рждрзЗ `BkashPayment` ржмрзБржЭрж╛ржмрзЗред"
2. ржкрж░рзЗ, ржпржЦржиржЗ ржжрж░ржХрж╛рж░ рж╣ржмрзЗ, Laravel рж╕рзЗржЗ Container ржерзЗржХрзЗ `BkashPayment` ржПржирзЗ ржжрж┐ржмрзЗред

ржПржЯрж╛ Laravel ржХрзЗ ржмрзЛржЭрж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗ, "ржЖржорж╛рж░ ржХрж┐ рж▓рж╛ржЧржмрзЗ ржЖрж░ ржХрж┐ржнрж╛ржмрзЗ рж╕рзЗржЯрж╛ ржЖржиржмред"

---

### **Singleton ржХрзА?**

**Singleton** ржПржоржи ржПржХржЯрж╛ ржмрзНржпржмрж╕рзНржерж╛, ржпрзЗржЦрж╛ржирзЗ ржПржХржЯрж╛ ржЬрж┐ржирж┐рж╕ ржмрж╛ ржХрзНрж▓рж╛рж╕рзЗрж░ рж╢рзБржзрзБ **ржПржХржЯрж╛ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ (instance)** рждрзИрж░рж┐ рж╣ржмрзЗ, ржпрждржмрж╛рж░ржЗ ржЖржкржирж┐ рж╕рзЗржЯрж┐ ржЪрж╛ржЗржмрзЗржиред

ржзрж░рзБржи, ржЖржкржирж╛рж░ ржПржХржЯрж┐ "Printer" ржЖржЫрзЗред ржПржЗ ржкрзНрж░рж┐ржирзНржЯрж╛рж░ ржкрзБрж░рзЛ ржЕржлрж┐рж╕рзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржЪрзНржЫрзЗред ржкрзНрж░рж┐ржирзНржЯрж╛рж░ ржПржХржЯрж╛ржЗ ржерж╛ржХржмрзЗ, ржирждрзБржи ржкрзНрж░рж┐ржирзНржЯрж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржжрж░ржХрж╛рж░ ржирзЗржЗред **Singleton** ржарж┐ржХ ржПржоржиржЯрж╛ржЗ ржХрж░рзЗред

---

### **Singleton-ржПрж░ ржЙржжрж╛рж╣рж░ржг**

#### **ржХрзЛржб ржЙржжрж╛рж╣рж░ржг**

```php
class Printer
{
    public function print($document)
    {
        echo "Printing: $document";
    }
}

// ржЖржорж░рж╛ Singleton рждрзИрж░рж┐ ржХрж░ржм
app()->singleton('printer', function () {
    return new Printer();
});

// ржпрзЗржХрзЛржирзЛ ржЬрж╛ржпрж╝ржЧрж╛ ржерзЗржХрзЗ Printer ржЖржирзБржи
$printer1 = app('printer');
$printer2 = app('printer');

// ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржХрж┐ржирж╛ ржжрзЗржЦрзБржи
if ($printer1 === $printer2) {
    echo "ржПржХржЗ Printer ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕!";
}
```

#### **ржПржЗ ржХрзЛржбрзЗ ржХрзА рж╣рж▓рзЛ?**

1. ржЖржорж░рж╛ ржмрж▓рж▓рж╛ржо `app()->singleton()` ржжрж┐ржпрж╝рзЗ, "Printer ржПржХржмрж╛рж░ рждрзИрж░рж┐ рж╣ржмрзЗред"
2. ржпржЦржиржЗ `app('printer')` ржмрж▓рж┐, рж╕рзЗржЯрж╛ ржЖржЧрзЗрж░ рждрзИрж░рж┐ ржХрж░рж╛ ржПржХржЗ `Printer` ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржЖржиржмрзЗред
3. ржлрж▓рзЗ, `Printer` ржПржХржмрж╛рж░ржЗ рждрзИрж░рж┐ рж╣ржпрж╝, ржмрж╛рж░ржмрж╛рж░ рждрзИрж░рж┐ рж╣ржпрж╝ ржирж╛ред

---

### **Singleton ржХрзЗржи ржжрж░ржХрж╛рж░?**

1. **ржорзЗржорзЛрж░рж┐ ржмрж╛ржБржЪрж╛ржпрж╝:** ржПржХржЗ ржЬрж┐ржирж┐рж╕ ржмрж╛рж░ржмрж╛рж░ рждрзИрж░рж┐ ржирж╛ ржХрж░рзЗ ржПржХржмрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗ рж╕рзЗржЯрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржорзЗржорзЛрж░рж┐ ржЦрж░ржЪ ржХржо рж╣ржпрж╝ред
2. **ржХрзЛржб рж╕рж╣ржЬ ржХрж░рзЗ:** рж╕ржм ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржЬржЯрж┐рж▓рждрж╛ ржХржорзЗред
3. **ржмрж┐рж╢рзЗрж╖ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:** ржпрзЗржоржи, рж▓рзЛржЧрж╛рж░ (Logger), ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржорзНржпрж╛ржирзЗржЬрж╛рж░, ржкрзНрж░рж┐ржирзНржЯрж╛рж░ ржЗрждрзНржпрж╛ржжрж┐ ржпрзЗржЦрж╛ржирзЗ ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржерж╛ржХрж╛ ржжрж░ржХрж╛рж░ред

---

### **Singleton vs Regular Binding**

#### **Regular Binding:**

ржкрзНрж░рждрж┐ржмрж╛рж░ ржЪрж╛ржЗрж▓рзЗ ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ рж╣ржпрж╝ред

```php
app()->bind('printer', function () {
    return new Printer();
});

$printer1 = app('printer'); // ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕
$printer2 = app('printer'); // ржЖржмрж╛рж░ ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕
```

#### **Singleton Binding:**

ржПржХржмрж╛рж░ рждрзИрж░рж┐ рж╣ржпрж╝, ржПржмржВ ржмрж╛рж░ржмрж╛рж░ рж╕рзЗржЯрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ред

```php
app()->singleton('printer', function () {
    return new Printer();
});

$printer1 = app('printer'); // ржкрзНрж░ржержоржмрж╛рж░ рждрзИрж░рж┐
$printer2 = app('printer'); // ржЖржЧрзЗрж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржмрзНржпржмрж╣рж╛рж░
```

---

### **ржЖрж░рзЛ рж╕рж╣ржЬржнрж╛ржмрзЗ ржмрзЛржЭрж╛рж░ ржЬржирзНржп ржЙржжрж╛рж╣рж░ржг**

1. **Singleton:**
   ржнрж╛ржмрзБржи, ржкрзБрж░рзЛ ржмрж╛ржбрж╝рж┐рж░ ржЬржирзНржп ржПржХржЯрж┐ ржлрзНрж░рж┐ржЬ ржЖржЫрзЗред рж╕ржмрж╛ржЗ рж╕рзЗржЗ ржПржХржЗ ржлрзНрж░рж┐ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред ржирждрзБржи ржлрзНрж░рж┐ржЬ ржЖржирждрзЗ рж╣ржпрж╝ ржирж╛ред
2. **Regular Binding:**
   ржнрж╛ржмрзБржи, ржмрж╛ржбрж╝рж┐рж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзБржорзЗ ржЖрж▓рж╛ржжрж╛ ржлрзНрж░рж┐ржЬ ржЖржЫрзЗред ржкрзНрж░рждрзНржпрзЗржХржмрж╛рж░ ржирждрзБржи ржлрзНрж░рж┐ржЬ ржЖржирждрзЗ рж╣ржпрж╝ред

ржЖржкржирж╛рж░ ржкрзНрж░рж╢рзНржи ржЕржирзБржпрж╛рзЯрзА, ржЖржорж░рж╛ ржкрзНрж░ржержорзЗ **Singleton** ржзрж╛рж░ржгрж╛ржЯрж┐ рж╕рж╛ржзрж╛рж░ржг PHP ржжрж┐рзЯрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржм, ржПрж░ржкрж░ Laravel-ржП ржПржЯрж┐ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рждрж╛ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмред ЁЯШК

---

## **Singleton ржирж░ржорж╛рж▓ PHP ржжрж┐рзЯрзЗ ржмрзЛржЭрж╛**

Singleton ржбрж┐ржЬрж╛ржЗржи ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржПржоржи ржПржХржЯрж┐ ржкрзНржпрж╛ржЯрж╛рж░рзНржи, ржпрзЗржЦрж╛ржирзЗ ржПржХржЯрж┐ ржХрзНрж▓рж╛рж╕рзЗрж░ рж╢рзБржзрзБржорж╛рждрзНрж░ **ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕** рждрзИрж░рж┐ рж╣рзЯ ржПржмржВ рж╕рзЗржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржмрж╛рж░ржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред ржПржЯрж┐ ржмрж┐рж╢рзЗрж╖ржд рждржЦржи ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ, ржпржЦржи ржЖржкржирж╛рж░ ржХрзЛржирзЛ shared resource (ржпрзЗржоржи database connection ржмрж╛ configuration manager) ржПржХржмрж╛рж░ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣рзЯ ржПржмржВ рж╕рзЗржЯрж┐ржЗ ржмрж╛рж░ржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯред

### **Singleton ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐рж░ ржзрж╛ржк**

ржПржХржЯрж┐ Singleton ржХрзНрж▓рж╛рж╕ рждрзИрж░рж┐рж░ ржЬржирзНржп рждрж┐ржиржЯрж┐ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржзрж╛ржк рж░рзЯрзЗржЫрзЗ:

1. ржХрзНрж▓рж╛рж╕рзЗрж░ constructor ржкрзНрж░рж╛ржЗржнрзЗржЯ ржХрж░рждрзЗ рж╣ржмрзЗ, ржпрзЗржи ржмрж╛ржЗрж░рзЗрж░ ржХрзЗржЙ ржирждрзБржи ржХрж░рзЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржХрж░рждрзЗ ржирж╛ ржкрж╛рж░рзЗред
2. ржПржХржЯрж┐ рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржерж╛ржХрждрзЗ рж╣ржмрзЗ, ржпрзЗржЦрж╛ржирзЗ рж╕рзЗржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ржЯрж┐ рж╕ржВрж░ржХрзНрж╖рж┐ржд ржерж╛ржХржмрзЗред
3. ржПржХржЯрж┐ рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржорзЗржержб ржерж╛ржХржмрзЗ, ржпрзЗржЯрж┐ рж╕рзЗржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ржЯрж┐ рждрзИрж░рж┐ ржХрж░рзЗ ржПржмржВ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

---

### **Singleton PHP ржЙржжрж╛рж╣рж░ржг**

```php
<?php

class Singleton
{
    // рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржкрзНрж░ржкрж╛рж░рзНржЯрж┐ ржпрзЗржЦрж╛ржирзЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ржЯрж┐ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рж╛ рж╣ржмрзЗ
    private static $instance = null;

    // ржкрзНрж░рж╛ржЗржнрзЗржЯ ржХржирзНрж╕ржЯрзНрж░рж╛ржХрзНржЯрж░, ржпрж╛рждрзЗ ржмрж╛ржЗрж░рзЗ ржерзЗржХрзЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржирж╛ ржХрж░рж╛ ржпрж╛рзЯ
    private function __construct()
    {
        echo "Singleton instance created!\n";
    }

    // ржХрзНрж▓рзЛржирж┐ржВ ржирж┐рж╖рж┐ржжрзНржз (optional)
    private function __clone() {}

    // unserialize ржирж┐рж╖рж┐ржжрзНржз (optional)
    private function __wakeup() {}

    // рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржорзЗржержб, ржпрзЗржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржХрж░рзЗ ржПржмржВ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ
    public static function getInstance()
    {
        if (self::$instance === null) {
            self::$instance = new Singleton();
        }
        return self::$instance;
    }

    // ржПржХржЯрж┐ ржбрзЗржорзЛ ржорзЗржержб
    public function doSomething()
    {
        echo "Doing something with the Singleton instance.\n";
    }
}

// ржкрзНрж░ржержоржмрж╛рж░ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐
$instance1 = Singleton::getInstance();

// ржжрзНржмрж┐рждрзАрзЯржмрж╛рж░ ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗ
$instance2 = Singleton::getInstance();

if ($instance1 === $instance2) {
    echo "Both instances are the same.\n";
}

// Singleton ржорзЗржержб ржХрж▓
$instance1->doSomething();
?>
```

#### **ржЖржЙржЯржкрзБржЯ:**

```
Singleton instance created!
Both instances are the same.
Doing something with the Singleton instance.
```

---

### **ржПржЗ ржЙржжрж╛рж╣рж░ржгрзЗ ржХрзА рж╣рж▓рзЛ?**

1. `Singleton::getInstance()` рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржорзЗржержб ржкрзНрж░ржержоржмрж╛рж░ ржХрж▓ ржХрж░рж▓рзЗ `new Singleton()` ржжрж┐рзЯрзЗ ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ рж╣рж▓рзЛред
2. ржкрж░ржмрж░рзНрждрзАрждрзЗ ржпрждржмрж╛рж░ржЗ `getInstance()` ржХрж▓ рж╣ржмрзЗ, ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред
3. ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ рж╣ржУрзЯрж╛рж░ рж╕рзБржпрзЛржЧ ржирзЗржЗ, ржХрж╛рж░ржг constructor ржкрзНрж░рж╛ржЗржнрзЗржЯред

---

## **Singleton Laravel-ржП ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?**

Laravel-ржП **Service Container** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ Singleton ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржЦрзБржм рж╕рж╣ржЬрзЗ ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛ ржпрж╛рзЯред Laravel ржирж┐ржЬрзЗржЗ ржПржХржЯрж┐ IoC (Inversion of Control) ржХржирзНржЯрзЗржЗржирж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржпрзЗржЦрж╛ржирзЗ ржЖржкржирж┐ ржХрзНрж▓рж╛рж╕ ржмрж╛ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ ржирж┐ржмржирзНржзржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

### **Laravel-ржПрж░ `app()->singleton()` ржХрзА?**

Laravel-ржП `app()` рж╣рж▓рзЛ Service Container-ржПрж░ ржПржХржЯрж┐ рж╣рзЗрж▓рзНржкрж╛рж░ ржлрж╛ржВрж╢ржиред `app()->singleton()` ржлрж╛ржВрж╢ржирзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЖржкржирж┐ Laravel-ржПрж░ Service Container-ржП ржПржХржЯрж┐ Singleton ржирж┐ржмржирзНржзржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

---

### **Laravel-ржП Singleton ржЙржжрж╛рж╣рж░ржг**

#### **ржзрж░рзБржи, ржЖржорж╛ржжрзЗрж░ Printer ржХрзНрж▓рж╛рж╕ржЯрж┐ ржЖржЫрзЗ:**

```php
<?php

namespace App\Services;

class Printer
{
    public function print($document)
    {
        echo "Printing: $document\n";
    }
}
```

#### **Service Provider-ржП ржирж┐ржмржирзНржзржи ржХрж░рж╛:**

ржЖржкржирж╛рж░ `AppServiceProvider.php`-ржП `register()` ржорзЗржержбрзЗрж░ ржоржзрзНржпрзЗ ржПржЯрж┐ ржирж┐ржмржирзНржзржи ржХрж░рзБржи:

```php
use App\Services\Printer;

public function register()
{
    $this->app->singleton('printer', function () {
        return new Printer();
    });
}
```

#### **Printer ржХрзНрж▓рж╛рж╕ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛:**

Controller ржмрж╛ ржЕржирзНржп ржпрзЗржХрзЛржирзЛ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝:

```php
// Singleton instance ржкрж╛ржУржпрж╝рж╛
$printer1 = app('printer');
$printer2 = app('printer');

// ржПржХржЗ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржХрж┐ржирж╛ ржЪрзЗржХ ржХрж░рж╛
if ($printer1 === $printer2) {
    echo "Singleton instance found!\n";
}

// ржорзЗржержб ржХрж▓
$printer1->print("My Document");
```

#### **ржЖржЙржЯржкрзБржЯ:**

```
Singleton instance found!
Printing: My Document
```

---

### **Laravel-ржПрж░ Singleton ржХрзЗржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржи?**

1. **Shared Resources:** ржХрзЛржирзЛ ржХрзНрж▓рж╛рж╕ ржмрж╛ рж╕рж╛рж░рзНржнрж┐рж╕ ржПржХржмрж╛рж░ рждрзИрж░рж┐ рж╣рж▓рзЗ рждрж╛ ржмрж╛рж░ржмрж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржмрзЗред
2. **Memory Efficiency:** ржирждрзБржи ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ ржмрж╛рж░ржмрж╛рж░ рждрзИрж░рж┐ ржирж╛ ржХрж░рзЗ ржорзЗржорзЛрж░рж┐ ржмрж╛ржБржЪрзЗред
3. **Service Container Integration:** Laravel ржПрж░ ржмрж╛ржХрж┐ ржлрж┐ржЪрж╛рж░ржЧрзБрж▓рзЛрж░ рж╕рж╛ржерзЗржУ рж╕рзБржирзНржжрж░ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗред

---

### **рж╕рж╛ржзрж╛рж░ржг PHP ржмржирж╛ржо Laravel Singleton рждрзБрж▓ржирж╛**

| ржлрж┐ржЪрж╛рж░                | рж╕рж╛ржзрж╛рж░ржг PHP                                   | Laravel (Service Container)                          |
| -------------------- | -------------------------------------------- | ---------------------------------------------------- |
| **ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐** | ржирж┐ржЬрзЗ ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржпрж╝ред              | `app()->singleton()` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╕рж╣ржЬрзЗ ржХрж░рж╛ ржпрж╛ржпрж╝ред      |
| **ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ**     | ржирждрзБржи ржХрзНрж▓рж╛рж╕ ржмрж╛ ржкрж░рж┐ржмрж░рзНрждржи ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржХрж░рждрзЗ рж╣ржпрж╝ред | Service Container рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржорзНржпрж╛ржирзЗржЬ ржХрж░рзЗред      |
| **рж╕рж╣ржЬрж▓ржнрзНржпрждрж╛**        | ржкрзНрж░рждрж┐ ржЬрж╛ржпрж╝ржЧрж╛ржпрж╝ ржХрзЛржб рж░рж┐ржкрж┐ржЯ ржХрж░рждрзЗ рж╣ржпрж╝ред           | Singleton instance рж╕рж░рж╛рж╕рж░рж┐ `app()` ржжрж┐ржпрж╝рзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред |

---

### **ржЙржкрж╕ржВрж╣рж╛рж░**

- **рж╕рж╛ржзрж╛рж░ржг PHP:** Singleton ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржмрзБржЭрждрзЗ ржПржмржВ рж╢рж┐ржЦрждрзЗ рж╣рж▓рзЗ ржирж░ржорж╛рж▓ PHP ржжрж┐ржпрж╝рзЗ ржХрзЛржб ржХрж░рж╛ ржнрж╛рж▓рзЛред
- **Laravel:** Laravel-ржП Singleton ржмрзНржпржмрж╣рж╛рж░рзЗ ржЖржкржирж┐ Service Container ржПрж░ рж╕рзБржмрж┐ржзрж╛ ржкрж╛ржмрзЗржи, ржпрж╛ Dependency Injection рж╕рж╣ржЬ ржХрж░рзЗ ржПржмржВ ржХрзЛржб ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржЙржирзНржиржд ржХрж░рзЗред

Laravel ржПрж░ `app()->singleton()` рж╣рж▓рзЛ Laravel ржПрж░ ржирж┐ржЬрж╕рзНржм ржорзЗржержб, ржпрж╛ Service Container-ржПрж░ ржЕржВрж╢ред ржПржЯрж┐ ржЖржкржирж╛ржХрзЗ ржПржХржЗ ржХрзНрж▓рж╛рж╕рзЗрж░ ржПржХржЯрж┐ ржЗржирж╕рзНржЯрзНржпрж╛ржирзНрж╕ рждрзИрж░рж┐ ржПржмржВ ржкрзБржирж░рж╛ржпрж╝ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

ржЖржкржирж╛рж░ ржпржжрж┐ ржЖрж░рзЛ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржмрж╛ ржХрзЛржирзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржмрж┐рж╖ржпрж╝ ржмрзБржЭрждрзЗ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝, ржЬрж╛ржирж╛ржмрзЗржи! ЁЯШК
